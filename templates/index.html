<!DOCTYPE html>
<html>
<body>

<h2>Patient Triage Test</h2>

<form id="triageForm">
  Age: <input type="number" id="age"><br><br>
  Systolic BP: <input type="number" id="bp"><br><br>
  Heart Rate: <input type="number" id="hr"><br><br>
  Temperature: <input type="number" step="0.1" id="temp"><br><br>
  Symptoms (comma separated): <input type="text" id="symptoms"><br><br>
  Chronic Conditions (comma separated): <input type="text" id="chronic"><br><br>
  <button type="button" onclick="submitForm()">Predict</button>
</form>

<h3 id="result"></h3>

<script>
async function submitForm() {
    const data = {
        age: parseInt(document.getElementById("age").value),
        gender: "Male",
        systolic_bp: parseInt(document.getElementById("bp").value),
        heart_rate: parseInt(document.getElementById("hr").value),
        temperature: parseFloat(document.getElementById("temp").value),
        symptoms: document.getElementById("symptoms").value.split(","),
        chronic_conditions: document.getElementById("chronic").value.split(",")
    };

    const response = await fetch("http://127.0.0.1:8000/predict", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
    });

    const result = await response.json();
    document.getElementById("result").innerText = 
        "Risk Level: " + result.risk_level+"Risk probablity: "+result.stage1_probability;
}
</script>

</body>
</html>
